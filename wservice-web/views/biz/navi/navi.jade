//
   Created by Leon on 15/10/15.

extends ../../layout/layout-bizpage
block titleContent
    title 导航管理
block content
    script(src="/js/biz/navi/navi.js")
    div(ng-app="naviApp")
        //通知区域
        //内容区域
        div(ng-view)
            //列表模板
        script(type="text/ng-template",id="list.html")
            //功能导航区域
            ul.breadcrumb
                li
                    a(href="app/home")
                        span.glyphicon.glyphicon-home
                        span 首页
                li.active 导航列表
            //功能按钮区域
            nav.navbar.navbar-default.navbar-fixed-top
                div.container-fluid
                    div.navbar-header
                        button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar-collapse', aria-expanded='false')
                            span.sr-only Toggle navigation
                            span.icon-bar
                            span.icon-bar
                            span.icon-bar
                        a.navbar-brand(href="#") 导航管理
            div.page-body(ng-if="vm.navis")
                ul.media.media-list
                    li.media(ng-repeat="navi in vm.navis")
                        div.media-body
                            a.list-group-item
                                div.row
                                    div.col-xs-6.col-md-6
                                        span {{navi.name}}
                                    div.col-xs-6.col-md-6
                                        button.btn.btn-default.btn-sm.pull-right(type="button",ng-click="vm.toAddView(navi.id);") 查看
                                        button.btn.btn-default.btn-sm.pull-right(type="button",ng-click="vm.toAddView(navi.id);") 添加子导航
                            ul.media.media-list
                                li.media(ng-repeat="child in navi.children")
                                    div.media-left(style="padding-right: 50px")
                                    div.media-body
                                        a.list-group-item
                                            div.row
                                                div.col-xs-6.col-md-6
                                                    span {{child.name}}
                                                div.col-xs-6.col-md-6
                                                    button.btn.btn-default.btn-sm.pull-right(type="button",ng-click="vm.toAddView(child.id);") 查看
                                                    button.btn.btn-default.btn-sm.pull-right(type="button",ng-click="vm.toAddView(child.id);") 添加子导航
        script(type="text/ng-template",id="add.html")
            //功能导航区域
            ul.breadcrumb
                li
                    a(href="app/home")
                        span.glyphicon.glyphicon-home
                        span 首页
                li.active 导航列表
            //功能按钮区域
            nav.navbar.navbar-default.navbar-fixed-top
                div.container-fluid
                    div.navbar-header
                        button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar-collapse', aria-expanded='false')
                            span.sr-only Toggle navigation
                            span.icon-bar
                            span.icon-bar
                            span.icon-bar
                        a.navbar-brand(href="#") 导航管理
            div.page-body(ng-if="vm.navis")