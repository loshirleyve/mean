//
   Created by rxy on 15/11/3.

extends ../../layout/layout-bizpage

block content
    script(src="/js/bpc/productconfig.js")
    script(src="/js/app/product.js")
    div(ng-app="productApp")
        //功能导航区
        div.row
            div.col-md-12
                ul.breadcrumb
                    li
                        a(href="home")
                            span.glyphicon.glyphicon-home
                            span 首页
                    li.active 产品列表
        //通知区域
        //内容区域
        div(ng-view)
        //列表模板
        script(type="text/ng-template",id="list.html")
            //功能按钮区域
            div.row
                div.col-md-12
                    div.btn-group
                        label.btn.btn-primary.btn-sm(ng-model="query.state" uib-btn-radio="'all'" ng-click="queryByState()" data-loading-text="正在查询..." id="all") 未分类
                        label.btn.btn-primary.btn-sm(ng-model="query.state" uib-btn-radio="'jinxuan'" ng-click="queryByState()" data-loading-text="正在查询..." id="jinxuan") 精选
                        label.btn.btn-primary.btn-sm(ng-model="query.state" uib-btn-radio="'caiwu'" ng-click="queryByState()" data-loading-text="正在查询..." id="caiwu") 财务
                    | &nbsp
                    label.btn.btn-primary.btn-sm 添加产品
                    | &nbsp
                    label.btn.btn-primary.btn-sm 添加分类
                    | &nbsp
                    label.btn.btn-primary.btn-sm 编辑分类
                    | &nbsp
                    label.btn.btn-primary.btn-sm(ng-click="query.toggle()",data-loading-text="正在查询...",id="query") {{query.text}}
                    | &nbsp
                    label.btn.btn-primary.btn-sm(ng-click="checkNew.toggle()",data-loading-text="正在查询...",id="checkNew") {{checkNew.text}}
            p
                //检查新订单区域
                div.row
                    div.col-md-12
                        div(uib-collapse="!checkNew.isCollapsed")
                            div.well.well-lg 检查新订单
                //条件查询内容输入区域
                div.row
                    div.col-md-12
                        div(uib-collapse="!query.isCollapsed")
                            div.well.well-lg 条件查询内容
                //数据表格区域
                div.row
                    div.col-md-12
                        y9ui-datatable(is-pagination="true",items-per-page="3",header="header",data="data",action="action",is-index="true",on-action="productAction(type,item,index)")
            //详情模板
            script(type="text/ng-template",id="detail.html")
                nav.navbar.navbar-default
                    div.navbar-header
                        a.navbar-brand(href="") 产品详情
                    ul.nav.navbar-nav.navbar-right
                        li
                            a(href="") 下架
                        li
                            a(href="",ng-click="query.previous(orderid)",ng-show="{{query.previousId(productid)}}") 上一单
                        li
                            a(href="",ng-click="query.next(orderid)",ng-show="{{query.nextId(productid)}}") 下一单
                        li
                            a(href="#/list") 返回
                        li
                            | &nbsp &nbsp &nbsp &nbsp
                div.row
                    div.col-md-12
                        div.panel.panel-default
                            div.panel-heading 基本信息
                            y9ui-datatable(header="productHeader",data="data.product",action="productInfoAction",is-index="true",on-action="doProductInfo(type,item,index)")
